# 2 用对象构建抽象
面向对象编程背后的核心思想是：以数据作为抽象(规则、指导方法)

## 2.1 介绍
在第1章我们集中在计算过程和函数在程序设计中的作用。 我们看到了如何使用原始数据（数字）和原始操作（算术运算），如何通过组合和控制形成复合函数，以及如何通过给过程命名来创建功能抽象。 我们还看到，高阶函数通过授权我们通过一般的计算方法来操纵和推理，从而增强了我们语言的能力。 这是编程的本质。
  
本章重点介绍数据。 数据使我们能够使用迄今为止获得的计算工具来表示和操纵有关世界的信息。 没有数据结构的程序可能足以探索数学属性。 但是，真实世界的现象，如文件，关系，城市和天气模式，都具有复杂的结构，最好用*复合数据类型*表示。 通过结构化的数据，程序可以模拟和推理人类知识和经验的任何领域。 由于互联网的爆炸式增长，大量关于世界的结构化信息在网上免费提供给我们。

### 2.1.1 对象隐喻
在本课程开始时，我们区分了函数和数据：函数是进行操作的，数据是被操作的。 当我们把函数作为值放到数据中去时，我们承认数据也可以有行为。 函数可以像数据一样被操作，但是也可以被调用来执行计算。
  
*对象*表现信息，但也表现行为像它们所代表的抽象概念。对象如何与其他对象交互的逻辑与编码在对象里的值的信息绑定在一起。 对象既是信息又是过程，捆绑在一起表示复杂事物的属性，交互和行为。
  
  日期是一种简单的对象。
  ```
  >>> from datetime import date
  ```
名称`date`绑定到一个*类*。一个类代表一种对象。单独的日期被称为该类的*实例*，并且可以通过将该类作为表征该实例的参数的函数来构造它们。

> 类 对象 实例：楼房图纸代表一个类，根据该图纸建造的楼房都叫做该类的对象，单独的一栋楼房叫做该类的实例。

> 一个类的对象；一个类代表一种对象

> 一个民族的人；一个民族代表一类人

对象具有*属性*，这些属性是被命名的值，作为对象的一部分。在Python中，我们使用点号来访问对象的属性。
```
<expression> . <name>
```

> 对表达式求值，得到的是它背后所代表的对象。所谓的“看山不是山”

对象也具有*方法*，这些方法属性的值是函数。比喻的说，对象“知道”如何执行这些方法。方法从它们的参数和它们的对象计算它们的结果。

尽管我们还没有精确地描述对象是如何工作的，现在是时候开始将数据视为对象，因为在Python中，每个值都是一个对象。

### 2.1.2 原生数据类型
Python中每个对象都有*类型*。`type`函数让我们可以检查每个对象的类型。
```python
>>> type(today)
<class 'datetime.date'>
```
到目前为止，我们学习的对象类型有数字、函数、布尔和现在的日期。我们也简要的学习了集合和字符串，但是我们需要更深入的学习它们。还有很多其他类型的对象---声音、图象、位置、数据、关系等等。---其中大部分可以被定义，通过组合和我们本章中开发的抽象手段。Python只有少量的原始或原生的数据类型内置在语言中。

原生数据类型具有以下的属性：
1. 有一些原始的表达式可以对这些类型的对象求值，叫做*标量*。
2. 有一些内置的函数、运算符和方法来操作这些对象。

事实上，Python包含三种原始数值类型：整数(`int`)、实数(`float`)、复数(`complex`)。

## 2.2 数据抽象
当我们考虑在程序中表示世界的大量东西时，我们发现大多数是复合结构。日期有年，月，日; 地理位置有纬度和经度。为了表示位置，我们希望我们的编程语言有能力将经纬度“粘合在一起”，形成一对---一个复合数据值---我们的程序以一种与事实一致的方式操纵它，我们把一个位置看作一个单独的概念单位，由两部分组成。

使用复合数据也增加了我们程序的模块化。如果我们可以把地理位置直接作为自己的对象来操作，那么我们就可以将我们程序中处理值的部分从这些值如何表示的细节中分离出来。 **将处理数据如何表示部分与处理数据如何操作部分隔离的一般性技术是一种强大的设计方法论，被称为*数据抽象*。数据抽象使程序更容易设计，维护和修改。**

数据抽象在性质上与函数抽象类似。当我们创建一个函数抽象时，函数的实现细节可以被抑制，特定的函数本身可以被任何其他具有相同整体行为的函数所替代。换句话说，我们可以构造一个抽象，将函数的使用方式与函数的实现细节分开。 类似地，**数据抽象是一种方法论，它使我们能够从如何构建它的细节中分离出如何使用复合数据对象。**

**数据抽象的基本思想是构造程序，以便对抽象数据进行操作。也就是说，我们的程序应该以尽可能少和数据假设方式使用数据。同时，定义一个具体的数据表示，独立与使用数据的程序。我们系统的这两部分之间的接口是一组函数，称为选择器和构造器，用具体的表示来实现抽象数据**。为了说明这个技巧，我们将考虑如何设计一组操作有理数的函数。

**计算机科学不仅仅是学习使用编程语言，还要学习如何工作。**

### 2.2.1 
